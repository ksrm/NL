---
title: "Singular Value Decomposition"
output: html_document
---

Credit to Kirk Baker, SVD Tutorial, 2005 & Landauer and Dumais, 1998
```{r}
install.packages("matlib")
```

## Characteristics of SVD

* Saves most important data
* Each column vector of the resultant matrix represents each component found through SVD. The components are ordered by amount of variation, starting from greatest to least. 
* Reduces data through the use of eigenvalues representing primary components
* The SVD equation in words : The original matrix is equal to an orthogonal matrix U, multipied by a diagonal matrix containing eigenvalues multiplied by the inverse matrix of U, named V. 

Example of SVD:
```{r}
a <- c(2,0,8,6,0,
        1,6,0,1,7,
        5,0,7,4,0,
        7,0,8,5,0,
        0,10,0,0,7)
A <- matrix(a,byrow=TRUE, ncol=5)
At <- t(A)

#Step 1 - multiply A and A transposed
U<-A%*%At

eigen(U)

#Step 2 - multiply by vertical variable matrix* and use system of equations to solve for lambda.

#Step 3 - from the paired eigenvalues(lambda), create a new matrix arranged by column from largest eigenvalues to smallest. 

V <- At%*%A
```
$$
A\vec{v} = \lambda\vec{v}
$$
From U and V, find lambda using above equation. In this example, the determinant is set to 0 in order to use system of equations and solve for lambda.**

Gram-Schmidt orthonormalization process is applied to create orthogonal matrices: 
To normalize a vector, the following equation applies:
$$
\hat{v}=\vec{v}\div|\vec{v}|
$$
$$
|\vec{v}| 
$$ is calculated by dividing by the magnitude (or length?) of the vector. The quotient is the unit vector

Example 2 of SVD (Landauer and Dumais, pg. 10, Figure 1)

$$
{X } = {W}{S}{P}'
$$
```{r}
freq<-c(1,0,0,1,0,0,0,0,0,
        1,0,1,0,0,0,0,0,0,
        1,1,0,0,0,0,0,0,0,
        0,1,1,0,1,0,0,0,0,
        0,1,1,2,0,0,0,0,0,
        0,1,0,0,1,0,0,0,0,
        0,1,0,0,1,0,0,0,0,
        0,0,1,1,0,0,0,0,0,
        0,1,0,0,0,0,0,0,1,
        0,0,0,0,0,1,1,1,0,
        0,0,0,0,0,0,1,1,1,
        0,0,0,0,0,0,0,1,1)
A <- matrix(freq, ncol=9, nrow=12, byrow=TRUE)
A
rownames(A)<-c("1human", "2interface", "3computer", "4user", "5system", "6response", "7time", "8EPS", "9survey", "10trees", "11graph", "12minors")

cor(A["1human",],A["12minors",])
cor(A["1human",],A["4user",])

W <- A%*%t(A)

e <- eigen(W)
W <- e$vectors
W*-1
```

